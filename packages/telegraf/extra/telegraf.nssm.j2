[service]
DisplayName = telegraf
Description = Telegraf: collects and reports metrics
Application = powershell.exe
AppParameters =
{#-#} -ExecutionPolicy Bypass -NoProfile -File {{ dcos_inst_dpath }}\bin\start_service.ps1
{#-#} --prescript {{ dcos_inst_dpath }}\bin\bootstrap.ps1
{#-#} --precommand dcos-telegraf-agent
{#-#} --application {{ pkg_inst_dpath }}\bin\telegraf.exe
{#-#} --config {{ dcos_cfg_dpath }}\telegraf\telegraf.conf
{#-#} --console
AppDirectory = {{ pkg_inst_dpath }}\bin
AppStdout = {{ pkg_log_dpath }}\telegraf.log
AppStderr = {{ pkg_log_dpath }}\telegraf.log
AppRotateFiles = 1
AppRotateSeconds = 86400
AppRotateBytes = 1048576
Start = SERVICE_AUTO_START
AppEnvironmentExtra = DCOS_NODE_PRIVATE_IP={{ local_priv_ipaddr }}
